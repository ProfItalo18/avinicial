<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Relatório Diagnóstico - Escola Manain</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&family=Times+New+Roman&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <header class="header-oficial">
        <div class="header-content">
            <img src="col.png" alt="Logo" class="logo-topo">
            <div class="header-texto">
                <h1>CENTRO OCUPACIONAL DE LONDRINA</h1>
                <p>Atendimento nas Áreas de Assistência Social, Educação e Saúde</p>
                <p class="sub-texto">Fundado em 22/06/1985 - CNPJ 78.962.263/0001-79</p>
            </div>
        </div>
    </header>
    <main class="folha-a4">
        
        <h2 class="titulo-documento">RELATÓRIO DE AVALIAÇÃO DE INGRESSO NA ESCOLA ESPECIALIZADA</h2>
        
        <input type="hidden" id="docId"> <section class="secao">
            <h3 class="titulo-secao">1. DADOS DE IDENTIFICAÇÃO:</h3>
            
            <div class="grid-form">
                <div class="linha">
                    <div class="campo">
                        <span class="label">Município:</span>
                        <span class="valor-fixo">Londrina/PR</span>
                    </div>
                    <div class="campo">
                        <span class="label">NRE:</span>
                        <span class="valor-fixo">Londrina/PR</span>
                    </div>
                </div>

                <div class="linha">
                    <div class="campo-full">
                        <span class="label">Escola:</span>
                        <input type="text" id="escola" value="Escola Manain" class="input-linha">
                    </div>
                </div>

                <div class="linha">
                    <div class="campo-full">
                        <span class="label">Estudante:</span>
                        <input type="text" id="nomeEstudante" placeholder="Nome completo" class="input-linha">
                    </div>
                </div>

                <div class="linha">
                    <div class="campo" style="flex: 2;">
                        <span class="label">Data de Nascimento:</span>
                        <input type="date" id="dataNascimento" class="input-linha" onchange="window.calcularIdade()">
                    </div>
                    <div class="campo" style="flex: 1;">
                        <span class="label">Idade:</span>
                        <input type="text" id="idade" readonly class="input-linha">
                    </div>
                </div>

                <div class="linha">
                    <div class="campo-full">
                        <span class="label">Filiação:</span>
                        <input type="text" id="filiacao" class="input-linha">
                    </div>
                </div>

                <div class="linha">
                    <div class="campo-full">
                        <span class="label">Data da Avaliação:</span>
                        <input type="date" id="dataAvaliacao" class="input-linha" onchange="window.atualizarDataAssinatura()">
                    </div>
                </div>
            </div>
        </section>

        <section class="secao">
            <h3 class="titulo-secao">2. SÍNTESE DAS ÁREAS AVALIADAS:</h3>

            <div class="area-box">
                <div class="titulo-area">
                    <h4>1.2 Avaliação Pedagógica</h4>
                    <button class="btn-acao no-print" onclick="window.abrirModal('pedagogica')"><i class="fas fa-list"></i> Checklist</button>
                </div>
                <textarea id="txtPedagogica" class="auto-expand" rows="4" placeholder="Habilidades conceituais, sociais e práticas..."></textarea>
            </div>

            <div class="area-box">
                <div class="titulo-area">
                    <h4>1.3 Avaliação Clínica</h4>
                    <button class="btn-acao no-print" onclick="window.abrirModal('clinica')"><i class="fas fa-user-md"></i> Checklist</button>
                </div>
                <textarea id="txtClinica" class="auto-expand" rows="4" placeholder="Desempenho clínico, saúde..."></textarea>
            </div>

            <div class="area-box">
                <div class="titulo-area">
                    <h4>1.4 Avaliação Serviço Social</h4>
                    <button class="btn-acao no-print" onclick="window.abrirModal('social')"><i class="fas fa-users"></i> Checklist</button>
                </div>
                <textarea id="txtSocial" class="auto-expand" rows="4" placeholder="Entrevistas e observações..."></textarea>
            </div>
        </section>

        <section class="secao">
            <h3 class="titulo-secao">3. CONCLUSÃO DIAGNÓSTICA</h3>
            <textarea id="txtConclusao" class="auto-expand" rows="5"></textarea>
        </section>

        <section class="secao">
            <h3 class="titulo-secao">4. INDICAÇÕES PEDAGÓGICAS</h3>
            <textarea id="txtIndicacoes" class="auto-expand" rows="6"></textarea>
        </section>

        <section class="secao">
            <h3 class="titulo-secao">5. ENCAMINHAMENTOS</h3>
            <textarea id="txtEncaminhamentos" class="auto-expand" rows="4"></textarea>
        </section>

        <section class="secao">
            <h3 class="titulo-secao">6. OBSERVAÇÕES COMPLEMENTARES</h3>
            <textarea id="txtObservacoes" class="auto-expand" rows="3"></textarea>
        </section>

        <div class="local-data-container">
            <p id="localDataTexto">Londrina/PR, ____ de __________________ de _______.</p>
        </div>

        <div class="assinaturas-wrapper">
            
            <div class="assinatura-item">
                <div class="img-ass">
                    <img id="imgPedagogica" src="" alt="Assinatura Pedagoga">
                </div>
                <div class="linha-ass"></div>
                
                <p id="nomePedagogica" class="nome-assinatura">Nome</p>
                <p id="cargoPedagogica" class="cargo-assinatura">Cargo</p>
                <p id="regPedagogica" class="reg-assinatura">Registro</p>
                
                <select id="selPedagogica" class="sel-ass no-print" onchange="window.trocarAssinatura('pedagogia', this.value)"></select>
            </div>

            <div class="assinatura-item">
                <div class="img-ass">
                    <img id="imgPsicologia" src="" alt="Assinatura Psicóloga">
                </div>
                <div class="linha-ass"></div>
                
                <p id="nomePsicologia" class="nome-assinatura">Nome</p>
                <p id="cargoPsicologia" class="cargo-assinatura">Cargo</p>
                <p id="regPsicologia" class="reg-assinatura">Registro</p>

                <select id="selPsicologia" class="sel-ass no-print" onchange="window.trocarAssinatura('psicologia', this.value)"></select>
            </div>

            <div class="assinatura-item">
                <div class="img-ass">
                    <img id="imgSocial" src="" alt="Assinatura Social">
                </div>
                <div class="linha-ass"></div>
                
                <p id="nomeSocial" class="nome-assinatura">Nome</p>
                <p id="cargoSocial" class="cargo-assinatura">Cargo</p>
                <p id="regSocial" class="reg-assinatura">Registro</p>

                <select id="selSocial" class="sel-ass no-print" onchange="window.trocarAssinatura('social', this.value)"></select>
            </div>
        </div>

    </main>
    <footer class="footer-oficial">
        <div class="footer-content">
            <p>Endereço: Rua das Açucenas nº 100, Jardim Colina Verde - Londrina/PR</p>
            <p>Fone: (43) 3328-4415 | Celular: (43) 99113-3086</p>
            <p>E-mails: centroocupacional.financeiro@hotmail.com / centroocupacional.secretaria@gmail.com</p>
        </div>
    </footer>

    
    <div class="fab-menu no-print">
        <button onclick="window.abrirBusca()" class="btn-fab azul" title="Buscar"><i class="fas fa-search"></i></button>
        <button onclick="window.salvarRelatorio()" class="btn-fab verde" title="Salvar"><i class="fas fa-save"></i></button>
        <button onclick="window.print()" class="btn-fab laranja" title="Imprimir"><i class="fas fa-print"></i></button>
    </div>

    <div id="modalChecklist" class="modal-overlay">
        <div class="modal-card">
            <div class="modal-header">
                <h3 id="tituloModal">Avaliação</h3>
                <button onclick="window.fecharModal('modalChecklist')">&times;</button>
            </div>
            <div class="modal-body" id="corpoChecklist"></div>
            <div class="modal-footer">
                <button onclick="window.processarChecklist()" class="btn-confirmar">Confirmar e Gerar Texto</button>
            </div>
        </div>
    </div>

    <div id="modalBusca" class="modal-overlay">
        <div class="modal-card">
            <div class="modal-header">
                <h3>Buscar Relatórios</h3>
                <button onclick="window.fecharModal('modalBusca')">&times;</button>
            </div>
            <div class="modal-body">
                <input type="text" id="buscaInput" placeholder="Digite o nome do aluno..." class="input-full">
                <button onclick="window.executarBusca()" class="btn-buscar">Pesquisar</button>
                <div id="listaResultados" class="lista-res"></div>
            </div>
        </div>
    </div>

    <script type="module" src="script.js"></script>
</body>
</html>