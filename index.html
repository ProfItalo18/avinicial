<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Relatório de Avaliação de Ingresso - Escola Manain</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="print-header">
        <img src="header.png" alt="Cabeçalho Escola Manain">
    </div>

    <div class="print-footer">
        <img src="footer.png" alt="Rodapé Escola Manain">
    </div>

    <main class="main-content">
        
        <h1 class="document-title">RELATÓRIO DE AVALIAÇÃO DE INGRESSO</h1>

        <section class="card identification-section">
            <div class="section-header">
                <h2><i class="fas fa-user-graduate"></i> 1. Dados de Identificação</h2>
            </div>
            
            <div class="form-grid">
                <div class="form-group col-half">
                    <label>Município:</label>
                    <input type="text" value="Londrina/PR" readonly class="input-flat">
                </div>
                <div class="form-group col-half">
                    <label>NRE:</label>
                    <input type="text" value="Londrina/PR" readonly class="input-flat">
                </div>

                <div class="form-group col-full">
                    <label>Escola:</label>
                    <input type="text" value="Escola Manain" class="input-editable">
                </div>

                <div class="form-group col-full">
                    <label>Nome do Estudante:</label>
                    <input type="text" id="nomeEstudante" placeholder="Digite o nome completo...">
                </div>

                <div class="form-group col-half">
                    <label>Data de Nascimento:</label>
                    <input type="date" id="dataNascimento" onchange="calcularIdade()">
                </div>
                <div class="form-group col-half">
                    <label>Idade:</label>
                    <input type="text" id="idadeCalculada" readonly placeholder="Automático">
                </div>

                <div class="form-group col-full">
                    <label>Filiação (Mãe / Pai):</label>
                    <input type="text" id="filiacao" placeholder="Nome da Mãe / Nome do Pai">
                </div>

                 <div class="form-group col-full">
                    <label>Data da Avaliação:</label>
                    <input type="date" id="dataAvaliacao">
                </div>
            </div>
        </section>

        <section class="card areas-section">
            <div class="section-header">
                <h2><i class="fas fa-clipboard-check"></i> 2. Síntese das Áreas Avaliadas</h2>
                <p class="no-print helper-text">Clique nos botões abaixo para preencher os checklists. O texto será gerado automaticamente.</p>
            </div>

            <div class="area-block">
                <div class="area-title-row">
                    <h3>2.1 Avaliação Pedagógica</h3>
                    <button class="btn-action no-print" onclick="abrirModalArea('pedagogica')">
                        <i class="fas fa-edit"></i> Preencher Checklist
                    </button>
                </div>
                <textarea id="textoPedagogico" class="auto-textarea" rows="6" placeholder="O texto será gerado aqui após o preenchimento..."></textarea>
            </div>

            <div class="area-block">
                <div class="area-title-row">
                    <h3>2.2 Avaliação Clínica</h3>
                    <button class="btn-action no-print" onclick="abrirModalArea('clinica')">
                        <i class="fas fa-user-md"></i> Preencher Checklist
                    </button>
                </div>
                <textarea id="textoClinico" class="auto-textarea" rows="6" placeholder="O texto será gerado aqui após o preenchimento..."></textarea>
            </div>

            <div class="area-block">
                <div class="area-title-row">
                    <h3>2.3 Avaliação Serviço Social</h3>
                    <button class="btn-action no-print" onclick="abrirModalArea('social')">
                        <i class="fas fa-users"></i> Preencher Checklist
                    </button>
                </div>
                <textarea id="textoSocial" class="auto-textarea" rows="6" placeholder="O texto será gerado aqui após o preenchimento..."></textarea>
            </div>
        </section>

        <section class="card">
            <h3>3. Conclusão Diagnóstica</h3>
            <textarea id="conclusaoDiagnostica" rows="5" placeholder="Síntese automática das conclusões das 3 áreas (editável)..."></textarea>
        </section>

        <section class="card">
            <h3>4. Indicações Pedagógicas</h3>
            <textarea id="indicacoesPedagogicas" rows="8" placeholder="Resumo pedagógico automático (aprox. 20 linhas)..."></textarea>
        </section>

        <section class="card">
            <h3>5. Encaminhamentos</h3>
            <textarea id="encaminhamentosGerais" rows="4" placeholder="Lista automática de encaminhamentos sugeridos..."></textarea>
        </section>

        <section class="card">
            <h3>6. Observações Complementares</h3>
            <div class="legal-text">
                <p>A Escola Manain segue as diretrizes da Lei de Diretrizes e Bases da Educação Nacional (LDB 9394/96), garantindo o direito da pessoa com deficiência à educação inclusiva e de qualidade, conforme o Estatuto da Pessoa com Deficiência (Lei 13.146/2015) e demais normativas vigentes no estado do Paraná.</p>
            </div>
        </section>

        <section class="signatures-section">
            <div class="sig-block">
                <div class="sig-image-container">
                    <img id="imgPedagogica" src="asspedagoga.png" alt="Assinatura Pedagógica">
                </div>
                <select class="no-print sig-selector" onchange="trocarAssinatura('pedagogica', this.value)">
                    <option value="1">Coord. Pedagógica 1</option>
                    <option value="2">Coord. Pedagógica 2</option>
                </select>
                <p class="sig-role">Coordenação Pedagógica</p>
            </div>

            <div class="sig-block">
                <div class="sig-image-container">
                    <img src="asspsicologa.png" alt="Assinatura Psicóloga">
                </div>
                <p class="sig-role">Psicóloga</p>
            </div>

            <div class="sig-block">
                <div class="sig-image-container">
                    <img id="imgSocial" src="asssocial.png" alt="Assinatura Social">
                </div>
                <select class="no-print sig-selector" onchange="trocarAssinatura('social', this.value)">
                    <option value="1">Assistente Social 1</option>
                    <option value="2">Assistente Social 2</option>
                </select>
                <p class="sig-role">Assistente Social</p>
            </div>
        </section>

    </main>

    <div class="fab-container no-print">
        <button onclick="window.print()" class="fab-btn btn-print" title="Imprimir"><i class="fas fa-print"></i></button>
        <button onclick="salvarNovoRelatorioNoBanco()" class="fab-btn btn-save" title="Salvar"><i class="fas fa-cloud-upload-alt"></i></button>
    </div>

    <div id="modalChecklist" class="modal-overlay">
        <div class="modal-card">
            <header class="modal-header">
                <h2 id="modalTitle">Avaliação</h2>
                <button onclick="fecharModalArea()" class="close-btn">&times;</button>
            </header>
            <div class="modal-body" id="modalContent">
                </div>
            <footer class="modal-footer">
                <button onclick="confirmarChecklist()" class="btn-confirm">Gerar Texto e Fechar</button>
            </footer>
        </div>
    </div>

    <script type="module" src="script.js"></script>
</body>
</html>