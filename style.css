:root {
    --azul-escuro: #2c3e50;
    --azul-claro: #2980b9;
    --bg: #e9ecef;
}

* { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Roboto', sans-serif; }

body {
    background: var(--bg);
    padding-bottom: 80px; /* Espaço para FAB */
}

/* --- Layout A4 --- */
.folha-a4 {
    width: 210mm;
    min-height: 297mm;
    background: white;
    margin: 30px auto;
    padding: 20mm 15mm;
    box-shadow: 0 0 15px rgba(0,0,0,0.1);
    position: relative;
}

/* --- Header e Footer (Visual) --- */
.header-oficial {
    background: white; border-bottom: 3px solid var(--azul-escuro);
    padding: 10px 0; text-align: center;
    /* Na tela, fica escondido, mostraremos apenas no topo da folha via JS se quiser, ou fixo no print */
    display: none; 
}
/* Mostra na tela para visualização bonita */
.header-oficial { display: block; margin-bottom: 20px; }

.header-content { display: flex; justify-content: center; align-items: center; gap: 15px; }
.logo-topo { height: 75px; }
.header-texto h1 { font-size: 14pt; color: var(--azul-escuro); margin: 0; }
.header-texto p { font-size: 10pt; margin: 2px 0; }
.sub-texto { font-size: 9pt; font-style: italic; }

.footer-oficial {
    background: white; border-top: 1px solid #999;
    padding: 10px 0; text-align: center; font-size: 9pt;
    margin-top: 30px;
}

/* --- Títulos --- */
.titulo-documento {
    text-align: center; font-size: 14pt; font-weight: bold;
    text-transform: uppercase; margin-bottom: 25px;
    text-decoration: underline; color: #000;
}

.titulo-secao {
    font-size: 11pt; font-weight: bold; background: #f8f9fa;
    padding: 5px; margin-bottom: 10px; border-left: 5px solid var(--azul-escuro);
    color: #000;
}

/* --- Formulário --- */
.grid-form { display: flex; flex-direction: column; gap: 8px; }
.linha { display: flex; gap: 15px; align-items: flex-end; }
.campo-full { width: 100%; }

.label { font-weight: bold; font-size: 10pt; margin-right: 5px; color: var(--azul-escuro); }
.valor-fixo { font-weight: bold; font-size: 11pt; }

.input-linha {
    border: none; border-bottom: 1px solid #999;
    width: 100%; font-size: 11pt; background: transparent;
    padding: 2px 0; font-family: 'Times New Roman', serif;
}

/* --- Áreas e Textareas --- */
.area-box { margin-bottom: 15px; break-inside: avoid; }
.titulo-area { display: flex; justify-content: space-between; margin-bottom: 5px; }
.titulo-area h4 { font-size: 10pt; font-weight: bold; color: var(--azul-escuro); }

.btn-acao {
    background: var(--azul-claro); color: white; border: none;
    padding: 5px 10px; border-radius: 4px; cursor: pointer; font-size: 9pt;
}

textarea {
    width: 100%; border: 1px solid #ccc; border-radius: 4px;
    padding: 8px; font-family: 'Times New Roman', serif;
    font-size: 11pt; line-height: 1.4; resize: vertical;
    overflow: hidden; /* Remove barra de rolagem */
    min-height: 40px;
}

/* --- Assinaturas --- */
.local-data-container { text-align: right; margin-top: 30px; margin-bottom: 10px; font-size: 11pt; }

.assinaturas-wrapper {
    display: flex; justify-content: space-between; margin-top: 20px;
    break-inside: avoid;
}
.assinatura-item { text-align: center; width: 32%; display: flex; flex-direction: column; align-items: center; }

.img-ass { height: 70px; display: flex; align-items: flex-end; justify-content: center; width: 100%; }
.img-ass img { max-height: 100%; max-width: 100%; object-fit: contain; }

.linha-ass { border-top: 1px solid #000; width: 90%; margin: 5px 0; }
.nome-assinatura { font-weight: bold; font-size: 10pt; margin: 2px 0; color: #000; }
.cargo-assinatura { font-size: 9pt; margin: 0; color: #333; }
.reg-assinatura { font-size: 8pt; margin: 0; color: #555; margin-top: 2px; }

.sel-ass { margin-top: 5px; padding: 3px; font-size: 9pt; max-width: 100%; }

/* --- Modais e FAB --- */
.modal-overlay {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(0,0,0,0.5); display: none; justify-content: center;
    align-items: center; z-index: 2000;
}
.modal-card {
    background: white; padding: 20px; border-radius: 8px;
    width: 90%; max-width: 600px; max-height: 90vh; display: flex; flex-direction: column;
}
.modal-body { overflow-y: auto; flex: 1; margin: 15px 0; }
.modal-header { display: flex; justify-content: space-between; border-bottom: 1px solid #eee; padding-bottom: 10px; }
.check-grupo h5 { background: #f1f2f6; padding: 5px; margin: 10px 0 5px 0; border-left: 3px solid var(--azul-claro); }
.check-item { display: flex; gap: 10px; margin-bottom: 5px; font-size: 10pt; }
.btn-confirmar { background: #27ae60; color: white; border: none; padding: 10px; width: 100%; cursor: pointer; }

.fab-menu { position: fixed; bottom: 20px; right: 20px; display: flex; gap: 10px; z-index: 1500; }
.btn-fab { width: 50px; height: 50px; border-radius: 50%; border: none; color: white; font-size: 18px; cursor: pointer; box-shadow: 0 4px 6px rgba(0,0,0,0.3); }
.azul { background: var(--azul-claro); }
.verde { background: #27ae60; }
.laranja { background: #e67e22; }

/* ================= IMPRESSÃO (A4 FIXO) ================= */
@media print {
    @page { margin: 0; size: A4; }
    
    body { background: white; margin: 0; padding: 0; }
    .no-print, .sel-ass { display: none !important; }

    /* Fixar Header e Footer no Papel */
    .header-oficial {
        position: fixed; top: 0; left: 0; width: 100%; height: 120px;
        z-index: 1000; border-bottom: 2px solid #000; background: white;
        padding-top: 10px; display: block;
    }

    .footer-oficial {
        position: fixed; bottom: 0; left: 0; width: 100%; height: 70px;
        z-index: 1000; border-top: 1px solid #000; background: white;
        display: block;
    }

    .folha-a4 {
        width: 100%; margin: 0; padding: 0 15mm;
        box-shadow: none;
        /* Margens para o conteúdo não bater no header/footer */
        margin-top: 130px; 
        margin-bottom: 80px;
    }

    /* Remove estilos de formulário */
    textarea {
        border: none; padding: 0; resize: none; overflow: hidden;
        color: black; font-size: 11pt;
    }
    .input-linha { border-bottom: none; }
    .titulo-secao { background: none; border-left: none; border-bottom: 2px solid #000; padding-left: 0; }
    .label { color: black; }
    .titulo-area h4 { color: black; text-decoration: underline; }
    
    /* Assinaturas limpas */
    .cargo-assinatura, .nome-assinatura, .reg-assinatura { color: black !important; }
    
    /* Evita quebras */
    .secao, .area-box, .assinaturas-wrapper, .linha { page-break-inside: avoid; }
}